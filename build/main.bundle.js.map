{"version":3,"sources":["webpack:///webpack/bootstrap f12ccefff0401f380d54","webpack:///./js/constants.js","webpack:///./js/array-helpers.js","webpack:///./js/resource-manager.js","webpack:///./js/sound-manager.js","webpack:///./js/state-manager.js","webpack:///./js/text.js","webpack:///./js/dynamic-entity.js","webpack:///./js/world.js","webpack:///./js/play-state.js","webpack:///./js/ai-enemy.js","webpack:///./js/block.js","webpack:///./js/bullet.js","webpack:///./js/button.js","webpack:///./js/entity.js","webpack:///./js/menu-state.js","webpack:///./js/tank.js","webpack:///./js/game.js","webpack:///./js/animation.js","webpack:///./js/destroyable-block.js","webpack:///./js/end-state.js","webpack:///./js/input-processor.js","webpack:///./js/level-manager.js","webpack:///./js/level.js","webpack:///./js/main.js","webpack:///./js/player.js","webpack:///./js/progress-bar.js","webpack:///./js/renderer.js","webpack:///./js/results-state.js"],"names":["BLOCK_SIZE","BLOCK_HEALTH","TANK_WIDTH","TANK_HEIGHT","TANK_SPEED","TANK_HEALTH","TANK_COOLDOWN","TANK_DAMAGE","BULLET_SIZE","BULLET_SPEED","TANK_SCORE","MAX_ENEMIES_COUNT","TEXTURE_PATH","TEXTURE_BASE","TEXTURE_TILE_SIZE","SOUNDS","last","array","length","undefined","remove","item","index","indexOf","splice","random","Math","floor","ResourceManager","sheet","base","width","height","config","block","frames","startFrame","destroyable_block","bullet","green_tank","blue_tank","init","path","Image","src","get","key","Object","assign","SoundManager","sounds","forEach","sound","soundName","match","Audio","play","stop","pause","StateManager","states","update","input","getDrawable","changeState","state","pop","destroy","push","args","alignments","LEFT","CENTER","RIGHT","Text","result","x","text","y","align","size","color","content","context","save","fillStyle","font","fillText","restore","value","toString","axis","X","Y","directions","TOP","BOTTOM","angles","DynamicEntity","texture","speed","direction","currentAxis","object","isMove","World","entities","player","level","getMap","tank","step","control","filter","entity","checkCollision","e","collide","PlayState","levelManager","world","interval","healthBar","next","err","setInterval","addEnemy","bind","getHealth","scoreLabel","scoreValue","score","newEnemy","checkStatus","winScore","current","clearInterval","endGame","reset","AIEnemy","shootingInterval","shoot","cooldown","call","keys","hitBy","Block","Bullet","owner","tankWidth","tankHeight","hit","Button","callback","event","handler","pageY","Entity","animation","angle","setTransform","translate","angleInRadians","PI","rotate","drawImage","MenuState","components","eventsHandler","mouseClick","window","addEventListener","removeEventListener","c","component","click","Tank","health","isCooldown","action","setTimeout","addScore","Game","renderer","resources","start","process","render","requestAnimationFrame","Animation","tileSet","currentFrame","isRun","DestroyableBlock","results","win","label","lose","EndState","InputProcessor","map","includes","keyCode","LevelManager","levels","currentLevel","Error","Level","tiles","class","split","replace","tile","i","Class","onload","ready","Player","ProgressBar","max","fillRect","ratio","Renderer","mount","canvas","document","createElement","getContext","getElementById","appendChild","drawables","clear","drawable","draw","clearRect","ResultsState"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f12ccefff0401f380d54","export const BLOCK_SIZE = 40;\nexport const BLOCK_HEALTH = 100;\nexport const TANK_WIDTH = 40;\nexport const TANK_HEIGHT = 40;\nexport const TANK_SPEED = 3;\nexport const TANK_HEALTH = 50;\nexport const TANK_COOLDOWN = 1000;\nexport const TANK_DAMAGE = 100;\nexport const BULLET_SIZE = 20;\nexport const BULLET_SPEED = 10;\nexport const TANK_SCORE = 50;\nexport const MAX_ENEMIES_COUNT = 4;\nexport const TEXTURE_PATH = './images/tiles.png';\nexport const TEXTURE_BASE = 8;\nexport const TEXTURE_TILE_SIZE = 84;\nexport const SOUNDS = [\n  './sounds/hit.wav',\n  './sounds/levelup.wav',\n  './sounds/lose.wav',\n  './sounds/move.wav',\n  './sounds/shoot.wav',\n  './sounds/win.wav',\n  './sounds/soundtrack.mp3',\n];\n\n\n\n// WEBPACK FOOTER //\n// ./js/constants.js","const last = function last(array) {\n  return array.length > 0 ? array[array.length - 1] : undefined;\n};\n\nconst remove = function remove(array, item) {\n  const index = array.indexOf(item);\n  if (index >= 0) {\n    array.splice(index, 1);\n  }\n};\n\nconst random = function random(array) {\n  return array[Math.floor(Math.random() * array.length)];\n};\n\nexport { last, remove, random };\n\n\n\n// WEBPACK FOOTER //\n// ./js/array-helpers.js","const ResourceManager = {\n  sheet: null,\n  base: 1,\n  width: 0,\n  height: 0,\n  config: {\n    block: {\n      frames: 1,\n      startFrame: 26,\n    },\n    destroyable_block: {\n      frames: 1,\n      startFrame: 30,\n    },\n    bullet: {\n      frames: 1,\n      startFrame: 20,\n    },\n    green_tank: {\n      frames: 8,\n      startFrame: 1,\n    },\n    blue_tank: {\n      frames: 8,\n      startFrame: 9,\n    },\n  },\n  init: function init(path, base, width, height) {\n    this.sheet = new Image();\n        // tileSheet.addEventListener('load', eventSheetLoaded , false);\n    this.sheet.src = path;\n    this.base = base;\n    this.width = width;\n    this.height = height;\n  },\n  get: function get(key) {\n    return Object.assign({\n      sheet: this.sheet,\n      base: this.base,\n      width: this.width,\n      height: this.height,\n    }, this.config[key]);\n  },\n};\n\nexport default ResourceManager;\n\n\n\n// WEBPACK FOOTER //\n// ./js/resource-manager.js","const SoundManager = {\n  sounds: {},\n  init: function init(sounds) {\n    sounds.forEach((sound) => {\n      const soundName = sound.match(/\\/(\\w+)\\.\\w+$/)[1] || sound;\n      this.sounds[soundName] = new Audio(sound);\n    });\n  },\n  play: function play(sound) {\n    this.sounds[sound].play();\n  },\n  stop: function stop(sound) {\n    this.sounds[sound].pause();\n  },\n};\n\nexport default SoundManager;\n\n\n\n// WEBPACK FOOTER //\n// ./js/sound-manager.js","import { last } from './array-helpers';\n// tmp\nimport MenuState from './menu-state';\n\nconst StateManager = {\n  states: [MenuState],\n  init: function init(...args) {\n    last(this.states).init(...args);\n  },\n  update: function update(input) {\n    last(this.states).update(input);\n  },\n  getDrawable: function getDrawable() {\n    return last(this.states).getDrawable();\n  },\n  changeState: function changeState(state, ...args) {\n    this.states.pop().destroy();\n    this.states.push(state);\n    this.init(...args);\n  },\n};\n\nexport default StateManager;\n\n\n\n// WEBPACK FOOTER //\n// ./js/state-manager.js","const alignments = {\n  LEFT: 'LEFT',\n  CENTER: 'CENTER',\n  RIGHT: 'RIGHT',\n};\n\nclass Text {\n  static get align() {\n    const result = {};\n    result[alignments.LEFT] = x => x;\n    result[alignments.CENTER] = (x, width) => x - (width / 2);\n    result[alignments.RIGHT] = (x, width) => x - width;\n    return result;\n  }\n\n  constructor(text, x, y, align = alignments.LEFT, size = 30, color = 'black') {\n    this.x = x;\n    this.y = y;\n    this.content = text;\n    this.align = align;\n    this.height = size;\n    this.color = color;\n  }\n\n  draw(context) {\n    context.save();\n    context.fillStyle = this.color;\n    context.font = `${this.height}px \"Press Start 2P\", cursive`;\n    context.fillText(\n      this.content,\n      Text.align[this.align](this.x, this.content.length * this.height),\n      this.y);\n    context.restore();\n  }\n\n  set text(value) {\n    this.content = value.toString();\n  }\n}\n\nexport { alignments };\n\nexport default Text;\n\n\n\n// WEBPACK FOOTER //\n// ./js/text.js","import Entity from './entity';\n\nconst axis = {\n  X: 'X',\n  Y: 'Y',\n};\n\nconst directions = {\n  TOP: 'TOP',\n  BOTTOM: 'BOTTOM',\n  LEFT: 'LEFT',\n  RIGHT: 'RIGHT',\n};\n\nconst angles = {\n  TOP: 0,\n  BOTTOM: 180,\n  LEFT: 270,\n  RIGHT: 90,\n};\n\nclass DynamicEntity extends Entity {\n  constructor(width, height, x, y, texture) {\n    super(width, height, x, y, texture);\n    this.speed = {\n      x: 0,\n      y: 0,\n    };\n    this.direction = directions.TOP;\n  }\n\n  update(currentAxis) {\n    if (currentAxis === axis.X) {\n      this.x += this.speed.x;\n    } else {\n      this.y += this.speed.y;\n    }\n  }\n\n  collide(object, currentAxis) {\n    if (currentAxis === axis.X && this.speed.x !== 0) {\n      if (this.x < object.x) {\n        this.x = object.x - this.width;\n      } else {\n        this.x = object.x + object.width;\n      }\n      this.speed.x = 0;\n    }\n    if (currentAxis === axis.Y && this.speed.y !== 0) {\n      if (this.y < object.y) {\n        this.y = object.y - this.height;\n      } else {\n        this.y = object.y + object.height;\n      }\n      this.speed.y = 0;\n    }\n  }\n\n  draw(context) {\n    const isMove = this.speed.x !== 0 || this.speed.y !== 0;\n    super.draw(context, angles[this.direction], isMove);\n  }\n}\n\nexport { axis, directions };\n\nexport default DynamicEntity;\n\n\n\n// WEBPACK FOOTER //\n// ./js/dynamic-entity.js","import Player from './player';\nimport DynamicEntity, { axis } from './dynamic-entity';\nimport AIEnemy from './ai-enemy';\nimport Bullet from './bullet';\n\nconst World = {\n  entities: [],\n  player: Player,\n  init: function init(level) {\n    this.entities = level.getMap();\n    this.player.init();\n    this.entities.push(this.player.tank);\n  },\n  step: function step(input) {\n    this.player.control(input.pop());\n    this.entities.filter(entity => entity instanceof AIEnemy)\n    .forEach(entity => entity.control());\n    this.entities.filter(entity => entity instanceof DynamicEntity)\n    .forEach(entity => entity.update(axis.X));\n    this.checkCollision(axis.X);\n    this.entities.filter(entity => entity instanceof DynamicEntity)\n    .forEach(entity => entity.update(axis.Y));\n    this.checkCollision(axis.Y);\n  },\n  checkCollision: function checkCollision(currentAxis) {\n    this.entities.filter(entity => entity instanceof DynamicEntity)\n    .forEach(entity =>\n      this.entities.filter(e => !(e instanceof Bullet))\n      .forEach((e) => {\n        if (entity !== e) {\n          if (entity.x < e.x + e.width &&\n            entity.x + entity.width > e.x &&\n            entity.y < e.y + e.height &&\n            entity.height + entity.y > e.y) {\n            entity.collide(e, currentAxis);\n          }\n        }\n      }));\n  },\n};\n\nexport default World;\n\n\n\n// WEBPACK FOOTER //\n// ./js/world.js","import LevelManager from './level-manager';\n\nimport { MAX_ENEMIES_COUNT } from './constants';\n\nimport AIEnemy from './ai-enemy';\nimport World from './world';\nimport StateManager from './state-manager';\nimport ResultsState from './results-state';\nimport EndState from './end-state';\nimport Text, { alignments } from './text';\nimport ProgressBar from './progress-bar';\nimport SoundManager from './sound-manager';\n\nconst PlayState = {\n  levelManager: LevelManager,\n  world: World,\n  interval: null,\n  healthBar: null,\n  init: function init() {\n    try {\n      this.world.init(this.levelManager.next());\n    } catch (err) {\n      StateManager.changeState(EndState, 'win');\n    }\n    this.interval = setInterval(this.addEnemy.bind(this), 5000);\n    this.healthBar = new ProgressBar(0, 600, 1200, 50, this.world.player.getHealth());\n    this.scoreLabel = new Text('Score', 1150, 100, alignments.RIGHT);\n    this.scoreValue = new Text(0, 1150, 150, alignments.RIGHT);\n    SoundManager.play('soundtrack');\n  },\n  update: function update(input) {\n    this.world.step(input);\n    this.healthBar.update(this.world.player.getHealth());\n    this.scoreValue.text = this.world.player.score;\n  },\n  getDrawable: function getDrawable() {\n    return [...this.world.entities, this.healthBar, this.scoreLabel, this.scoreValue];\n  },\n  addEnemy: function addEnemy() {\n    if (this.world.entities.filter(e => e instanceof AIEnemy).length > MAX_ENEMIES_COUNT) {\n      return;\n    }\n    const newEnemy = new AIEnemy(480, 50);\n    this.world.entities.push(newEnemy);\n  },\n  checkStatus: function checkStatus(player) {\n    if (player.score >= this.levelManager.winScore()\n      && this.world.entities.filter(e => e instanceof AIEnemy).length === 0) {\n      SoundManager.play('levelup');\n      StateManager.changeState(\n        ResultsState,\n        this.levelManager.current(),\n        this.world.player.score);\n    }\n  },\n  destroy: function destroy() {\n    clearInterval(this.interval);\n    this.world.entities.filter(e => e instanceof AIEnemy).forEach(entity => entity.destroy());\n  },\n  endGame: function endGame() {\n    StateManager.changeState(EndState, 'lose');\n    this.levelManager.reset();\n  },\n};\n\nexport default PlayState;\n\n\n\n// WEBPACK FOOTER //\n// ./js/play-state.js","import Tank from './tank';\nimport { directions } from './dynamic-entity';\nimport ResourceManager from './resource-manager';\nimport { random } from './array-helpers';\n\nclass AIEnemy extends Tank {\n  constructor(x, y) {\n    super(x, y, ResourceManager.get('blue_tank'));\n    this.shootingInterval = setInterval(this.shoot.bind(this), this.cooldown);\n  }\n\n  control() {\n    super.control.call(this, this.direction);\n  }\n\n  collide(object, axis) {\n    super.collide.call(this, object, axis);\n    this.direction = random(Object.keys(directions));\n  }\n\n  hit(hitBy) {\n    if (!(hitBy instanceof AIEnemy)) {\n      super.hit.call(this, hitBy);\n    }\n  }\n\n  destroy() {\n    clearInterval(this.shootingInterval);\n  }\n}\n\nexport default AIEnemy;\n\n\n\n// WEBPACK FOOTER //\n// ./js/ai-enemy.js","import Entity from './entity';\n\nclass Block extends Entity {\n  constructor(size, x, y, texture) {\n    super(size, size, x, y, texture);\n  }\n}\n\nexport default Block;\n\n\n\n// WEBPACK FOOTER //\n// ./js/block.js","import DynamicEntity, { directions } from './dynamic-entity';\nimport ResourceManager from './resource-manager';\nimport { remove } from './array-helpers';\n\nimport World from './world';\n\nimport { BULLET_SIZE, BULLET_SPEED } from './constants';\n\nclass Bullet extends DynamicEntity {\n  constructor(owner, x, y, tankWidth, tankHeight, direction) {\n    super(BULLET_SIZE, BULLET_SIZE, x, y, ResourceManager.get('bullet'));\n    this.owner = owner;\n    this.direction = direction;\n    if (direction === directions.TOP) {\n      this.x = x + ((tankWidth - this.width) / 2);\n      this.y = y - this.height;\n      this.speed.y = -BULLET_SPEED;\n    } else if (direction === directions.BOTTOM) {\n      this.x = x + ((tankWidth - this.width) / 2);\n      this.y = y + tankHeight;\n      this.speed.y = BULLET_SPEED;\n    } else if (direction === directions.LEFT) {\n      this.x = x - this.width;\n      this.y = y + ((tankWidth - this.height) / 2);\n      this.speed.x = -BULLET_SPEED;\n    } else if (direction === directions.RIGHT) {\n      this.x = x + tankWidth;\n      this.y = y + ((tankWidth - this.height) / 2);\n      this.speed.x = BULLET_SPEED;\n    }\n  }\n\n  collide(object) {\n    remove(World.entities, this);\n    if (typeof object.hit === 'function') {\n      object.hit(this.owner);\n    }\n  }\n}\n\nexport default Bullet;\n\n\n\n// WEBPACK FOOTER //\n// ./js/bullet.js","import Text, { alignments } from './text';\n\nclass Button extends Text {\n  constructor(text, x, y, callback) {\n    super(text, x, y, alignments.CENTER);\n    this.event = null;\n    this.handler = callback;\n  }\n\n  click(event) {\n    if (event.pageY > this.y - this.height && event.pageY < this.y) {\n      this.handler();\n    }\n  }\n}\n\nexport default Button;\n\n\n\n// WEBPACK FOOTER //\n// ./js/button.js","import Animation from './animation';\n\nclass Entity {\n  constructor(width, height, x, y, texture) {\n    this.width = width;\n    this.height = height;\n    this.x = x;\n    this.y = y;\n    this.animation = new Animation(\n      texture.sheet,\n      texture.base,\n      texture.frames,\n      texture.width,\n      texture.height,\n      texture.startFrame);\n  }\n\n  draw(context, angle = 0, play = true) {\n    this.animation.step((texture, x, y, width, height) => {\n      if (angle !== 0) {\n        context.save();\n        context.setTransform(1, 0, 0, 1, 0, 0);\n        context.translate(this.x + (this.width / 2), this.y + (this.height / 2));\n        const angleInRadians = (angle * Math.PI) / 180;\n        context.rotate(angleInRadians);\n\n        context.drawImage(\n          texture,\n          x,\n          y,\n          width,\n          height,\n          -this.width / 2,\n          -this.height / 2,\n          this.width,\n          this.height);\n\n        context.restore();\n      } else {\n        context.drawImage(texture, x, y, width, height, this.x, this.y, this.width, this.height);\n      }\n    }, play);\n  }\n}\n\nexport default Entity;\n\n\n\n// WEBPACK FOOTER //\n// ./js/entity.js","import Button from './button';\nimport Text, { alignments } from './text';\n\nimport StateManager from './state-manager';\nimport PlayState from './play-state';\n\nconst MenuState = {\n  components: [],\n  init: function init() {\n    this.eventsHandler = this.mouseClick.bind(this);\n    window.addEventListener('click', this.eventsHandler);\n    this.components = [];\n    this.components.push(new Text('World of Tanks', 600, 150, alignments.CENTER));\n    this.components.push(new Button('Play', 600, 350, () => {\n      StateManager.changeState(PlayState);\n    }));\n  },\n  update: function update() {\n\n  },\n  getDrawable: function getDrawable() {\n    return this.components;\n  },\n  destroy: function destroy() {\n    window.removeEventListener('click', this.eventsHandler);\n  },\n  mouseClick: function mouseClick(event) {\n    this.components.filter(c => c instanceof Button).forEach(component => component.click(event));\n  },\n};\n\nexport default MenuState;\n\n\n\n// WEBPACK FOOTER //\n// ./js/menu-state.js","import DynamicEntity, { directions } from './dynamic-entity';\nimport Bullet from './bullet';\n\nimport { remove } from './array-helpers';\nimport { TANK_COOLDOWN, TANK_DAMAGE, TANK_HEALTH, TANK_HEIGHT, TANK_SPEED, TANK_WIDTH } from './constants';\n\nimport World from './world';\nimport SoundManager from './sound-manager';\n\nclass Tank extends DynamicEntity {\n  constructor(x, y, texture, health = TANK_HEALTH) {\n    super(TANK_WIDTH, TANK_HEIGHT, x, y, texture);\n    this.health = health;\n    this.cooldown = TANK_COOLDOWN;\n    this.isCooldown = false;\n  }\n\n  control(action) {\n    this.speed.x = 0;\n    this.speed.y = 0;\n    if (action === 'TOP') {\n      this.direction = directions.TOP;\n      this.speed.y = -TANK_SPEED;\n    } else if (action === 'BOTTOM') {\n      this.direction = directions.BOTTOM;\n      this.speed.y = TANK_SPEED;\n    } else if (action === 'LEFT') {\n      this.direction = directions.LEFT;\n      this.speed.x = -TANK_SPEED;\n    } else if (action === 'RIGHT') {\n      this.direction = directions.RIGHT;\n      this.speed.x = TANK_SPEED;\n    } else if (action === 'SPACE') {\n      this.shoot();\n    }\n  }\n\n  shoot() {\n    if (this.isCooldown) {\n      return;\n    }\n    World.entities.push(new Bullet(this, this.x, this.y, this.width, this.height, this.direction));\n    this.isCooldown = true;\n    setTimeout(() => { this.isCooldown = false; }, this.cooldown);\n  }\n\n  hit(hitBy) {\n    this.health -= TANK_DAMAGE;\n    SoundManager.play('hit');\n    if (this.health <= 0) {\n      if (this === World.player.tank) {\n        World.player.destroy();\n        return;\n      }\n      remove(World.entities, this);\n      this.destroy();\n      if (hitBy === World.player.tank) {\n        World.player.addScore();\n      }\n    }\n  }\n}\n\nexport default Tank;\n\n\n\n// WEBPACK FOOTER //\n// ./js/tank.js","import InputProcessor from './input-processor';\nimport Renderer from './renderer';\nimport StateManager from './state-manager';\nimport ResourceManager from './resource-manager';\nimport SoundManager from './sound-manager';\n\nimport { TEXTURE_PATH, TEXTURE_BASE, TEXTURE_TILE_SIZE, SOUNDS } from './constants';\n\nconst Game = {\n  input: InputProcessor,\n  renderer: Renderer,\n  state: StateManager,\n  resources: ResourceManager,\n  sounds: SoundManager,\n  start: function start() {\n    this.resources.init(TEXTURE_PATH, TEXTURE_BASE, TEXTURE_TILE_SIZE, TEXTURE_TILE_SIZE);\n    this.sounds.init(SOUNDS);\n    this.input.init(window);\n    this.renderer.init();\n    this.state.init();\n    this.update();\n  },\n  update: function update() {\n    this.state.update(this.input.process());\n    this.renderer.render(this.state.getDrawable());\n    requestAnimationFrame(this.update.bind(this));\n  },\n};\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./js/game.js","class Animation {\n  constructor(tileSet, base, frames, width, height, startFrame = 0) {\n    this.tileSet = tileSet;\n    this.base = base;\n    this.frames = frames;\n    this.width = width;\n    this.height = height;\n    this.startFrame = startFrame;\n    this.currentFrame = startFrame;\n  }\n\n  step(callback, isRun = true) {\n    const x = Math.floor(this.currentFrame % this.base) * this.width;\n    const y = Math.floor(this.currentFrame / this.base) * this.height;\n\n    callback(this.tileSet, x, y, this.width, this.height);\n\n    if (!isRun) {\n      return;\n    }\n\n    this.currentFrame += 1;\n    if (this.currentFrame >= this.startFrame + this.frames) {\n      this.currentFrame = this.startFrame;\n    }\n  }\n}\n\nexport default Animation;\n\n\n\n// WEBPACK FOOTER //\n// ./js/animation.js","import Block from './block';\n\nimport { remove } from './array-helpers';\nimport { BLOCK_HEALTH, TANK_DAMAGE } from './constants';\n\nimport World from './world';\n\nclass DestroyableBlock extends Block {\n  constructor(size, x, y, texture) {\n    super(size, x, y, texture);\n    this.health = BLOCK_HEALTH;\n  }\n\n  hit() {\n    this.health -= TANK_DAMAGE;\n    if (this.health <= 0) {\n      remove(World.entities, this);\n    }\n  }\n}\n\nexport default DestroyableBlock;\n\n\n\n// WEBPACK FOOTER //\n// ./js/destroyable-block.js","import Button from './button';\nimport Text, { alignments } from './text';\n\nimport StateManager from './state-manager';\nimport MenuState from './menu-state';\nimport SoundManager from './sound-manager';\n\nconst results = {\n  win: {\n    label: 'Victory',\n  },\n  lose: {\n    label: 'Game over',\n  },\n};\n\nconst EndState = {\n  components: [],\n  init: function init(result) {\n    SoundManager.play(result);\n    this.eventsHandler = this.mouseClick.bind(this);\n    window.addEventListener('click', this.eventsHandler);\n    this.components = [];\n    this.components.push(new Text(results[result].label, 600, 150, alignments.CENTER));\n    this.components.push(new Button('Back to menu', 600, 350, () => {\n      StateManager.changeState(MenuState);\n    }));\n  },\n  update: function update() {\n\n  },\n  getDrawable: function getDrawable() {\n    return this.components;\n  },\n  destroy: function destroy() {\n    window.removeEventListener('click', this.eventsHandler);\n  },\n  mouseClick: function mouseClick(event) {\n    this.components.filter(c => c instanceof Button).forEach(component => component.click(event));\n  },\n};\n\nexport default EndState;\n\n\n\n// WEBPACK FOOTER //\n// ./js/end-state.js","const InputProcessor = {\n  map: {\n    37: 'LEFT',\n    38: 'TOP',\n    39: 'RIGHT',\n    40: 'BOTTOM',\n    32: 'SPACE',\n  },\n  keys: [],\n  init: function init(handler) {\n    handler.addEventListener('keydown', (e) => {\n      if (!this.keys.includes(e.keyCode)) {\n        this.keys.push(e.keyCode);\n      }\n    });\n    handler.addEventListener('keyup', (e) => {\n      this.keys.splice(this.keys.indexOf(e.keyCode), 1);\n    });\n  },\n  process: function process() {\n    return this.keys.map(key => this.map[key]);\n  },\n};\n\nexport default InputProcessor;\n\n\n\n// WEBPACK FOOTER //\n// ./js/input-processor.js","import Level from './level';\n\nconst LevelManager = {\n  levels: [\n    {\n      map:\n`########################\n#  %                %  #\n#  %        #       %  #\n#  %                %  #\n#  % %############% %  #\n#  %  %          %  %  #\n#     %          %     #\n#   %%%%%%%%%%%%%%%%   #\n#                      #\n#### %%%%%%%%%%%%%% ####\n#          %%          #\n#   %%%%%%%%%%%%%%%%   #\n#     %          %     #\n#     %          %     #\n########################\n`,\n      score: 200,\n    },\n    {\n      map:\n`########################\n#                      #\n#      %%%%%%%%%%      #\n#  %                %  #\n#  %                %  #\n#%%%%%%%%%%%%%%%%%%%%%%#\n#         % %          #\n#######   % %    #######\n#         % %          #\n####      % %       ####\n#         % %          #\n#   %%%%%%%%%%%%%%%%   #\n#     %          %     #\n#     %          %     #\n########################\n`,\n      score: 300,\n    },\n    {\n      map:\n`########################\n#   #              #   #\n#   #              #   #\n#                      #\n#                      #\n#                      #\n# %%%%%%%%%%%%%%%%%%%%%#\n#                      #\n#%%%%%%%%%%%%%%%%%%%%% #\n#                      #\n# %%%%%%%%%%%%%%%%%%%%%#\n#                      #\n#%%%%%%%%%%%%%%%%%%%%% #\n#                      #\n########################\n`,\n      score: 500,\n    },\n    {\n      map:\n`########################\n#                      #\n#      %         %     #\n#      %         %     #\n#%%%%%%%%%%%%%%%%%%%%%%#\n#           %          #\n#           %          #\n# #################### #\n#                      #\n#%%%%%%%%%%%%%%%%%%%%%%#\n#%%%%%%%%%%%%%%%%%%%%%%#\n#                      #\n#                      #\n#                      #\n########################\n`,\n      score: 1000,\n    },\n    {\n      map:\n`########################\n#                      #\n#  ####%%%%%%%%%%####  #\n#  %                %  #\n#  %                %  #\n#%%%%%%%%%%%%%%%%%%%%%%#\n#         % %          #\n#######   %#%    #######\n#         % %          #\n####      %#%       ####\n#         % %          #\n####%%%%%%%%%%%%%%%%####\n#     %    #     %     #\n#     %          %     #\n########################\n`,\n      score: 1500,\n    },\n  ],\n  currentLevel: -1,\n  winScore: function winScore() {\n    return this.levels[this.currentLevel].score;\n  },\n  current: function current() {\n    return this.currentLevel + 1;\n  },\n  next: function next() {\n    this.currentLevel += 1;\n    if (this.currentLevel >= this.levels.length) {\n      this.currentLevel = -1;\n      throw new Error('No more levels');\n    }\n    return new Level(this.levels[this.currentLevel].map);\n  },\n  reset: function reset() {\n    this.currentLevel = -1;\n  },\n};\n\nexport default LevelManager;\n\n\n\n// WEBPACK FOOTER //\n// ./js/level-manager.js","import Block from './block';\nimport DestroyableBlock from './destroyable-block';\nimport ResourceManager from './resource-manager';\n\nimport { BLOCK_SIZE } from './constants';\n\nclass Level {\n  constructor(map) {\n    this.map = map;\n  }\n\n  getMap() {\n    const tiles = {\n      '#': {\n        class: Block,\n        texture: ResourceManager.get('block'),\n      },\n      '%': {\n        class: DestroyableBlock,\n        texture: ResourceManager.get('destroyable_block'),\n      },\n    };\n    const width = this.map.split('\\n')[0].length;\n    return this.map.replace(/\\n/g, '').split('').map((tile, i) => {\n      if (tile in tiles) {\n        const Class = tiles[tile].class;\n        return new Class(\n          BLOCK_SIZE,\n          BLOCK_SIZE * (i % width),\n          BLOCK_SIZE * Math.floor(i / width),\n          tiles[tile].texture);\n      }\n      return null;\n    }).filter(i => i);\n  }\n}\n\nexport default Level;\n\n\n\n// WEBPACK FOOTER //\n// ./js/level.js","import Game from './game';\n\nwindow.onload = function ready() {\n  Game.start();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/main.js","import Tank from './tank';\nimport ResourceManager from './resource-manager';\n\nimport { TANK_SCORE, TANK_HEALTH } from './constants';\n\nimport PlayState from './play-state';\nimport SoundManager from './sound-manager';\n\nconst Player = {\n  tank: null,\n  score: 0,\n  init: function init() {\n    this.score = 0;\n    this.tank = new Tank(480, 520, ResourceManager.get('green_tank'), TANK_HEALTH * 10);\n  },\n  control: function control(action) {\n    this.tank.control(action);\n    if (action === 'SPACE') {\n      SoundManager.play('shoot');\n    }\n  },\n  addScore: function addScore() {\n    this.score += TANK_SCORE;\n    PlayState.checkStatus(this);\n  },\n  getHealth: function getHealth() {\n    return this.tank.health;\n  },\n  destroy: function destroy() {\n    PlayState.endGame();\n  },\n};\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./js/player.js","class ProgressBar {\n  constructor(x, y, width, height, max, color = '#00cc00') {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.color = color;\n    this.max = max;\n    this.value = this.width;\n  }\n\n  draw(context) {\n    context.save();\n    context.fillStyle = this.color;\n    context.fillRect(this.x, this.y, this.value, this.height);\n    context.restore();\n  }\n\n  update(value) {\n    const ratio = value / this.max;\n    this.value = this.width * ratio;\n    if (ratio >= 0.60 && ratio < 0.90) {\n      this.color = '#99ff33';\n    } else if (ratio >= 0.30 && ratio < 0.60) {\n      this.color = '#ffff00';\n    } else if (ratio < 0.30) {\n      this.color = '#ff9900';\n    }\n  }\n}\n\nexport default ProgressBar;\n\n\n\n// WEBPACK FOOTER //\n// ./js/progress-bar.js","const Renderer = {\n  config: {\n    width: 1200,\n    height: 650,\n    mount: 'root',\n  },\n  canvas: null,\n  init: function init() {\n    this.canvas = document.createElement('canvas');\n    this.canvas.width = this.config.width;\n    this.canvas.height = this.config.height;\n    this.context = this.canvas.getContext('2d');\n    document.getElementById(this.config.mount).appendChild(this.canvas);\n  },\n  render: function render(drawables) {\n    this.clear();\n    drawables.forEach((drawable) => {\n      drawable.draw(this.context);\n    });\n  },\n  clear: function clear() {\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  },\n};\n\nexport default Renderer;\n\n\n\n// WEBPACK FOOTER //\n// ./js/renderer.js","import Text, { alignments } from './text';\n\nimport StateManager from './state-manager';\nimport PlayState from './play-state';\n\nconst ResultsState = {\n  components: [],\n  init: function init(level, score) {\n    this.components = [];\n    // this.components.push(new Text('', 600, 50, 'center'));\n    this.components.push(new Text(`Level ${level}`, 600, 150, alignments.CENTER));\n    this.components.push(new Text(`Score: ${score}`, 600, 250, alignments.CENTER));\n    setTimeout(StateManager.changeState.bind(StateManager, PlayState), 3000);\n  },\n  update: function update() {\n\n  },\n  getDrawable: function getDrawable() {\n    return this.components;\n  },\n  destroy: function destroy() {\n\n  },\n};\n\nexport default ResultsState;\n\n\n\n// WEBPACK FOOTER //\n// ./js/results-state.js"],"sourceRoot":""}